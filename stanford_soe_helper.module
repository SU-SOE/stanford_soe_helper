<?php

/**
 * @file
 * Code for the Stanford SOE Helper module.
 */

/**
 * Implements hook_init().
 */
function stanford_soe_helper_init() {

  // Add css files
  $file_paths = array(
    drupal_get_path('module', 'stanford_soe_helper') . "/css/soe_helper.css",
    drupal_get_path('module', 'stanford_soe_helper') . "/css/stanford_news_layouts.css"
  );

  $weight = 9999;
  $conditions = "admin
admin*
admin/*
node/*/edit
block/*/edit*
block/add*
node/add*
user/*/edit
node/*/delete";

  $css_rules = array();
  $css_rules['rule_conditions'] = $conditions;
  $css_rules['rule_type'] = CSS_INJECTOR_PAGES_NOTLISTED;

  $pass = _css_injector_evaluate_rule($css_rules);
  if ($pass) {
    foreach ($file_paths as $file_path) {

      drupal_add_css($file_path, array(
        'type' => 'file',
        'group' => CSS_THEME,
        'media' => "all",
        'preprocess' => TRUE,
        'weight' => $weight
      ));
      $weight = $weight++;
    }
  }
}

