@charset "UTF-8";
//
// DIGITAL MAGAZINE ARTICLE
// FOR NODE DISPLAY, VIEWS, PARAGRAPH TYPES, AND BLOCKS
//
// NODE DISPLAY
.node-type-stanford-magazine-article {
  h1 {
    width: 85%;
    margin: 0 auto;
  }

  .field-name-field-s-mag-article-topics {
    font-size: em(20px);
    margin: 0 auto 18px;
    width: 65%;

    @include breakpoint-max(medium) {
      width: 85%;
    }

    @include breakpoint-max(x-small) {
      width: 100%;
    }
  }

  .field-name-field-s-mag-article-dek {
    font-size: em(26px);
    line-height: 1.3em;
    margin: 44px auto 22px;
    width: 65%;

    @include breakpoint-max(medium) {
      width: 85%;
    }

    @include breakpoint-max(x-small) {
      width: 100%;
    }
  }

  .group-s-mag-article-date-byline {
    width: 65%;
    font-size: em(18px);
    color: $gray-orange;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    margin: 0 auto 32px;

    @include breakpoint-max(medium) {
      width: 85%;
    }

    @include breakpoint-max(x-small) {
      width: 100%;
    }

    .group-s-date-and-byline,
    .group-s-social-and-print {
      display: flex;
      flex-wrap: wrap;
      height: auto;
    }

    .group-s-date-and-byline {
      width: 70%;

      @include breakpoint-max(x-small) {
        width: 100%;
      }

      .field-name-field-s-mag-article-byline,
      .field-name-field-s-mag-article-date {
        margin-bottom: 0;
      }
    }

    .group-s-social-and-print {
      width: 30%;

      @include breakpoint-max(medium) {
        width: 50%;
        margin-left: -13px;
      }

      @include breakpoint-max(x-small) {
        width: 100%;
      }
    }

    .field-name-field-s-mag-article-date {
      .field-item {
        &:after {
          content: '\00a0 \00a0 |\00a0 \00a0 ';
        }
      }
    }

    .field-name-field-s-mag-article-collection {
      .field-label {
        font-family: Source sans pro;
        font-size: 18px;
        font-weight: 400;
        line-height: 1.2em;

        @include breakpoint-max(medium) {
          font-size: 17px;
        }

        @include breakpoint-max(small) {
          font-size: 16.5px;
        }

        @include breakpoint-max(smaller) {
          font-size: 16.1px;
        }

        @include breakpoint-max(xx-small) {
          font-size: 15px;
        }

        &::after {
          content: '\00a0';
        }
      }

      .field-items {
        font-family: $roboto-slab;
        font-size: 0.95em;
        font-weight: bold;
        line-height: 1.2em;
        margin-top: 1px;

        a.orange {
          @include td-color($orange);
          color: $black;
          text-decoration: underline;
          text-decoration-color: $orange;

          &:hover {
            content: '\00a0 \00a0 |\00a0 \00a0 ';
          }
        }

        a.pink {
          @include td-color($pink);
          color: $black;
          text-decoration: underline;
          text-decoration-color: $pink;
        }

        a.turquoise {
          @include td-color($turquoise);
          color: $black;
          text-decoration: underline;
          text-decoration-color: $turquoise;
        }
      }
    }

    .group-s-social-and-print {
      a {
        margin-right: 10px;
      }

      .widget-wrapper-fb,
      .widget-wrapper-twitter {
        margin-right: -8px;
      }

      .widget-wrapper-fb,
      .widget-wrapper-linkedin,
      .widget-wrapper-twitter {
        img {
          width: auto;
          height: 40px;
          margin-right: -10px;
        }
      }

      .field-name-forward-ds-field {
        margin-top: 8px;
        margin-bottom: 0;

        a {
          font-size: em(0px);
          color: transparent;

          &:after {
            content: url('../modules/stanford_soe_helper_magazine/img/soe_forward_icon_gray.svg');
          }
        }
      }

      .field-name-field-s-mag-article-print {
        margin-top: 6px;
        margin-bottom: 0;

        a {
          font-size: em(0px);
          color: transparent;
          margin-right: 0;

          &:after {
            content: url('../modules/stanford_soe_helper_magazine/img/soe_print_icon_gray.svg');
          }
        }
      }
    }
  }

  .field-name-body {
    iframe {
      width: 100%;
      height: 550px;

      &.iframe-auto {
        height: auto;
      }
    }
  }

  #block-views-791d235d18b47f6352dcdf232609d31b + div {
    background-color: $light-gray;
  }

  #block-bean-stanford-soe-mag-news-signup {
    padding-bottom: 80px;

    .mailchimp-magazine-block {
      #mc_embed_signup_scroll {
        width: 50%;
        margin: 0 auto;

        @include breakpoint-max(medium) {
          width: 70%;
        }

        @include breakpoint-max(x-small) {
          width: 80%;
          padding: 25px;
        }

        h2 {
          font-size: 1.3em;
          margin-bottom: 20px;

          @include breakpoint-max(x-small) {
            font-size: 1.1em;
          }
        }

        .mc-field-group {
          input {
            width: 300px;

            @include breakpoint-max(smaller) {
              width: 200px;
            }

            @include breakpoint-max(x-small) {
              width: 150px;
            }
          }
        }
      }
    }
  }
}
// TAXONOMY AND ALL ARTICLES GRID VIEWS
.page-magazine-all #page-title,
.page-taxonomy-term #page-title {
  text-align: center;
}

#block-views-a06b957e34c741c20a352da1b7ce0e12 {
  h2 {
    text-align: center;
    margin: 2em 0 1.5em;
  }

  .article-grouping {
    padding: 0 70px;

    @include breakpoint-max(medium) {
      padding: 0;
    }
  }
}

.view-stanford-magazine-article-most-recent,
.view-stanford-magazine-articles,
.view-stanford-magazine-topics {
  &.most-recent-article {
    margin: 40px 0 80px;

    @include breakpoint-max(x-small) {
      margin-bottom: 20px;
    }

    .most-recent-article-container {
      @include box-shadow;
      position: relative;
      display: flex;

      @include breakpoint-max(medium) {
        display: block;
      }

      .mag-topic-card-container {
        width: 50%;
        background: $white;
        padding: 50px 30px 30px;

        @include breakpoint-max(medium) {
          width: auto;
        }

        @include breakpoint-max(x-small) {
          padding-top: 15px;
        }

        .mag-topic-card-content-container {
          position: absolute;
          bottom: 40px;

          @include breakpoint-max(medium) {
            position: static;
          }
        }

        .mag-article-date {
          color: $gray-orange;
          font-size: em(20px);
          font-weight: 100;
          margin-bottom: 10px;
        }

        .mag-article-title {
          font-size: em(32px);
          line-height: 1.2em;
          font-weight: 600;

          @media (max-width: 1199px) and (min-width: 979px) {
            font-size: em(20px);
          }

          &[class*="mag-article-color-"] a {
            @include td-skip;
            color: $primary-color;
            font-weight: 600;
            text-decoration: underline;

            &:focus,
            &:hover {
              @include td-color($primary-color);
            }
          }

          &.mag-article-color-orange a {
            @include td-color($orange);
          }

          &.mag-article-color-turquoise a {
            @include td-color($turquoise);
          }

          &.mag-article-color-pink a {
            @include td-color($pink);
          }
        }

        .mag-article-topics {
          font-size: em(18px);
          line-height: 1.3em;
          margin: 30px 0;
        }

        .mag-article-issue {
          position: absolute;
          bottom: 15px;
          right: 15px;

          &[class*="mag-issue-color-"] {
            padding: 0 9px;
            font-size: em(18px);
          }

          &.mag-issue-color-orange {
            background: $orange;
          }

          &.mag-issue-color-turquoise {
            background: $turquoise;
          }

          &.mag-issue-color-pink {
            background: $pink;
          }

          a {
            color: $primary-color;
          }
        }
      }

      .mag-article-img {
        overflow: hidden;

        &:hover img {
          @include transform (scale(1.03));
        }

        img {
          @include transition;

          @include breakpoint-max(medium) {
            width: 100%;
          }
        }
      }
    }
  }

  &.article-grouping {
    .views-row {
      margin-bottom: 80px;

      @include breakpoint-max(x-small) {
        margin-bottom: 20px;
      }
    }

    &.views-grid-three .views-row {
      margin-right: 2%;
      width: 31%;

      @media (max-width: 581px) {
        width: 100%;
      }
    }

    &.views-grid-three .views-row.views-row-3 {
      margin-right: 0;
    }

    .mag-topic-card-container {
      @include box-shadow;
      position: relative;
      background: $white;
      padding: 15px 30px 30px;

      .mag-article-date {
        color: $gray-orange;
        font-size: em(18px);
        font-weight: 100;
      }

      .mag-article-title {
        font-size: em(26px);
        line-height: 1.3em;
        font-weight: 600;

        &[class*="mag-article-color-"] a {
          @include td-skip;
          color: $primary-color;
          font-weight: 600;
          text-decoration: underline;

          &:focus,
          &:hover {
            @include td-color($primary-color);
          }
        }

        &.mag-article-color-orange a {
          @include td-color($orange);
        }

        &.mag-article-color-turquoise a {
          @include td-color($turquoise);
        }

        &.mag-article-color-pink a {
          @include td-color($pink);
        }
      }

      .mag-article-topics {
        font-size: em(16px);
        line-height: 1.2em;
        margin: 30px 0;
      }

      .mag-article-issue {
        position: absolute;
        bottom: 15px;
        right: 15px;

        &[class*="mag-issue-color-"] {
          padding: 0 9px;
          font-size: em(16px);
        }

        &.mag-issue-color-orange {
          background: $orange;
        }

        &.mag-issue-color-turquoise {
          background: $turquoise;
        }

        &.mag-issue-color-pink {
          background: $pink;
        }

        a {
          color: $primary-color;
        }
      }
    }

    .mag-article-img {
      overflow: hidden;

      &:hover img {
        @include transform (scale(1.03));
      }

      img {
        @include transition;
      }
    }
  }
}

.view-stanford-magazine-topics.most-recent-article {
  margin-top: -30px;
}
// LATEST NEWS DM LANDING PAGE VIEW
//.view-stanford-magazine-issue-article,
.view-display-id-article_collection_bottom_block,
.view-stanford-magazine-article-mag-landing-page,
.view-stanford-magazine-collection-mag-landing-page {
  &.views-grid-three .views-row {
    margin-bottom: 0;
  }

  h2 {
    font-family: $primary-font;
    color: $gray-orange;
    font-weight: 400;
    letter-spacing: 0;
    width: 50%;
    margin: 0 auto 60px;
    text-align: center;

    @include breakpoint-min(large) {
      width: 40%;
    }

    @include breakpoint-max(small) {
      width: 100%;
    }
  }

  &.view-display-id-block_10_12,
  &.view-display-id-page_1_3 {
    .views-row {
      &:nth-child(1) {
        width: 22.5%;
        margin-right: 4.5%;

        @include breakpoint-max(medium) {
          width: 100%;
          margin-right: 0;
        }
      }

      &:nth-child(2) {
        width: 45%;
        margin-right: 4.5%;

        @include breakpoint-max(medium) {
          width: 100%;
          margin-right: 0;
        }

        .mag-article-container {
          .mag-article-content-container {
            padding: 50px 30px 30px;

            @include breakpoint-max(medium) {
              padding: 15px 30px 30px;
            }

            .mag-article-date {
              color: $gray-orange;
              font-size: em(20px);
              font-weight: 100;
              margin-bottom: 10px;

              @include breakpoint-max(medium) {
                font-size: em(18px);
              }
            }

            .mag-article-title {
              font-size: em(32px);
              line-height: 1.2em;
              font-weight: 600;

              @include breakpoint-max(medium) {
                font-size: em(26px);
                line-height: 1.3em;
              }
            }

            .mag-article-topics {
              font-size: em(18px);
              line-height: 1.3em;
              margin: 30px 0;

              @include breakpoint-max(medium) {
                font-size: em(16px);
                line-height: 1.2em;
              }
            }
          }
        }
      }

      &:nth-child(3) {
        width: 22.5%;
        margin-right: 0;

        @include breakpoint-max(medium) {
          width: 100%;
        }
      }
    }
  }

  &.view-display-id-block_13_15,
  &.view-display-id-block_4_6 {
    .views-row {
      &:nth-child(1) {
        width: 45%;
        margin-right: 4.5%;

        @include breakpoint-max(medium) {
          width: 100%;
          margin-right: 0;
        }

        .mag-article-container {
          .mag-article-content-container {
            padding: 50px 30px 30px;

            @include breakpoint-max(medium) {
              padding: 15px 30px 30px;
            }

            .mag-article-date {
              color: $gray-orange;
              font-size: em(20px);
              font-weight: 100;
              margin-bottom: 10px;

              @include breakpoint-max(medium) {
                font-size: em(18px);
              }
            }

            .mag-article-title {
              font-size: em(32px);
              line-height: 1.2em;
              font-weight: 600;

              @include breakpoint-max(medium) {
                font-size: em(26px);
                line-height: 1.3em;
              }
            }

            .mag-article-topics {
              font-size: em(18px);
              line-height: 1.3em;
              margin: 30px 0;

              @include breakpoint-max(medium) {
                font-size: em(16px);
                line-height: 1.2em;
              }
            }
          }
        }
      }

      &:nth-child(2) {
        width: 22.5%;
        margin-right: 4.5%;

        @include breakpoint-max(medium) {
          width: 100%;
          margin-right: 0;
        }
      }

      &:nth-child(3) {
        width: 22.5%;
        margin-right: 0;

        @include breakpoint-max(medium) {
          width: 100%;
        }
      }
    }
  }

  &.view-display-id-block_7_9 {
    .views-row {
      &:nth-child(1) {
        width: 22.5%;
        margin-right: 4.5%;

        @include breakpoint-max(medium) {
          width: 100%;
          margin-right: 0;
        }
      }

      &:nth-child(2) {
        width: 22.5%;
        margin-right: 4.5%;

        @include breakpoint-max(medium) {
          width: 100%;
          margin-right: 0;
        }
      }

      &:nth-child(3) {
        width: 45%;
        margin-right: 0;

        @include breakpoint-max(medium) {
          width: 100%;
        }

        .mag-article-container {
          .mag-article-content-container {
            padding: 50px 30px 30px;

            @include breakpoint-max(medium) {
              padding: 15px 30px 30px;
            }

            .mag-article-date {
              color: $gray-orange;
              font-size: em(20px);
              font-weight: 100;
              margin-bottom: 10px;

              @include breakpoint-max(medium) {
                font-size: em(18px);
              }
            }

            .mag-article-title {
              font-size: em(32px);
              line-height: 1.2em;
              font-weight: 600;

              @include breakpoint-max(medium) {
                font-size: em(26px);
                line-height: 1.3em;
              }
            }

            .mag-article-topics {
              font-size: em(18px);
              line-height: 1.3em;
              margin: 30px 0;

              @include breakpoint-max(medium) {
                font-size: em(16px);
                line-height: 1.2em;
              }
            }
          }
        }
      }
    }
  }

  .mag-article-container {
    margin-bottom: 80px;

    @include breakpoint-max(medium) {
      margin-bottom: 40px;
    }

    .mag-article-img {
      overflow: hidden;

      &:hover img {
        @include transform (scale(1.03));
      }

      img {
        @include transition;

        @include breakpoint-max(medium) {
          width: 100%;
        }
      }
    }

    .mag-article-content-container {
      position: relative;
      padding: 15px 30px 30px;

      .mag-article-date {
        color: $gray-orange;
        font-size: em(18px);
        font-weight: 100;
      }

      .mag-article-title {
        font-size: em(26px);
        line-height: 1.3em;

        &[class*="mag-article-color-"] a {
          @include td-skip;
          color: $primary-color;
          font-weight: 600;
          text-decoration: underline;

          &:focus,
          &:hover {
            @include td-color($primary-color);
          }
        }

        &.mag-article-color-orange a {
          @include td-color($orange);
        }

        &.mag-article-color-turquoise a {
          @include td-color($turquoise);
        }

        &.mag-article-color-pink a {
          @include td-color($pink);
        }
      }

      .mag-article-topics {
        font-size: em(16px);
        line-height: 1.2em;
        margin: 30px 0;
      }

      .mag-article-issue {
        position: absolute;
        bottom: 15px;
        right: 15px;

        &[class*="mag-issue-color-"] {
          padding: 0 9px;
          font-size: em(18px);
        }

        &.mag-issue-color-orange {
          background: $orange;
        }

        &.mag-issue-color-turquoise {
          background: $turquoise;
        }

        &.mag-issue-color-pink {
          background: $pink;
        }

        a {
          color: $primary-color;
        }
      }
    }
  }
}

.view-display-id-article_collection_bottom_block {
  .mag-article-container {
    .mag-article-content-container {
      .mag-article-title {
        a {
          font-weight: 600;
        }
      }
    }
  }
}

.page-magazine {
  .main {
    padding-bottom: 0;

    @include breakpoint-min(medium) {
      padding-top: 100px;
    }

    .container {

      @include breakpoint-max(small) {
        margin-bottom: 0;
      }

      .content-head {
        margin-bottom: 0;
      }
    }
  }

  #page-title {
    text-align: center;
  }

  .mailchimp-magazine-block {
    #mc_embed_signup_scroll {
      box-shadow: none;
      -webkit-box-shadow: none;
      margin-bottom: 0;

      @include breakpoint-max(small) {
        padding: 40px 0;
      }
    }
  }

  form {
    &#mc-embedded-subscribe-form {
      margin-bottom: 0;
    }
  }

  .block-stanford-soe-helper-magazine {
    a.btn {
      margin: 0 0 80px;
    }
  }

  #content-body-bottom {
    margin-top: 5%;
  }
}

.page-magazine-all,
.page-taxonomy-term {
  .mailchimp-magazine-block {
    #mc_embed_signup_scroll {
      box-shadow: none;
      -webkit-box-shadow: none;
      margin-bottom: 0;

      @include breakpoint-max(small) {
        padding: 40px 0;
      }
    }
  }

  form {
    &#mc-embedded-subscribe-form {
      margin-bottom: 0;
    }
  }

  #content-body-bottom {
    margin-top: 5%;
  }
}
// HOMEPAGE AND DEPARTMENT FEATURED ARTICLE BLOCK VIEW
.mag-article-container.well {
  padding: 0;
}

.view-stanford-magazine-article-department,
.view-stanford-magazine-article-featured {
  .mag-article-container {
    .mag-article-img {
      overflow: hidden;

      &:hover img {
        @include transform (scale(1.03));
      }

      img {
        @include transition;
        width: 100%;
      }
    }

    .mag-article-content-container {
      padding: 15px 30px 30px;

      @include breakpoint-max(medium) {
        padding: 15px 30px 30px;
      }

      .mag-article-date {
        color: $gray-orange;
        font-size: em(20px);
        font-weight: 100;
        margin-bottom: 10px;

        @include breakpoint-max(medium) {
          font-size: em(18px);
        }
      }

      .mag-article-title {
        h2 {
          font-size: em(28px);

          a {
            @include td-color($turquoise);

            &:focus,
            &:hover {
              @include td-color($primary-color);
            }
          }
        }
      }

      .mag-article-topics {
        font-size: em(18px);
        line-height: 1.3em;
        margin: 30px 0;

        @include breakpoint-max(medium) {
          font-size: em(16px);
          line-height: 1.2em;
        }
      }
    }
  }
}
// PARAGRAPH TYPES
.node-type-stanford-magazine-article {
  .paragraphs-item-p-two-columns {
    font-family: $roboto-slab;
    font-size: em(28px);
    margin: 0 auto;
    column-count: 1;
    column-gap: 0;
    width: 85%;
  }

  h1 {

    @include breakpoint-max(x-small) {
      width: 100%;
    }
  }

  .paragraphs-item-p-wysiwyg-simple {
    @include breakpoint-max(medium) {
      width: 85%;
    }

    @include breakpoint-max(x-small) {
      width: 100%;
    }

    a {
      text-decoration: underline;
    }
  }
}

.entity-paragraphs-item {
  iframe {
    width: 100%;

    &.iframe-auto {
      height: auto;
    }
  }

  iframe[src*="youtube"],
  iframe[src*="vimeo"] {
    height: 400px;
  }
}
// RELATED DEPARTMENTS BLOCK
#block-ds-extras-related-departments {
  width: 85%;
  border-top: 1px solid $dark-gray;
  margin: 0 auto 80px;
  padding-top: 20px;

  @include breakpoint-max(x-small) {
    width: 100%;
  }

  h2 {
    font-size: em(18px);
    font-family: $primary-font;
    margin-bottom: 0;
  }

  .field-name-field-s-mag-article-dept {
    font-size: em(18px);
    line-height: 1.3em;
    width: 45%;

    @include breakpoint-max(x-small) {
      width: 100%;
    }
  }
}
