@charset "UTF-8";

//
// DIGITAL MAGAZINE ARTICLE
// FOR NODE DISPLAY, VIEWS, PARAGRAPH TYPES, AND BLOCKS
//

// NODE DISPLAY

.node-type-stanford-magazine-article {
  h1 {
    width: 85%;
    margin: 0 auto;
  }

  .field-name-field-s-mag-article-topics {
    font-size: em(20px);
    width: 65%;
    margin: 0 auto 18px;
    @include breakpoint-max(x-small) {
      width: 100%;
    }
  }

  .field-name-field-s-mag-article-dek {
    font-size: em(26px);
    line-height: 1.3em;
    width: 65%;
    margin: 44px auto 22px;
    @include breakpoint-max(x-small) {
      width: 100%;
    }
  }

  .group-s-mag-article-date-byline {
    font-size: em(18px);
    color: $gray-orange;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    width: 65%;
    margin: 0 auto 32px;
    @include breakpoint-max(x-small) {
      width: 100%;
    }

    .group-s-date-and-byline,
    .group-s-social-and-print {
      display: flex;
      flex-wrap: wrap;
    }

    .field-name-field-s-mag-article-date {
      .field-item {
        &:after {
          content: "\00a0 \00a0 |\00a0 \00a0 ";
        }
      }
    }

    .group-s-social-and-print {
      a {
        margin-right: 10px;
      }

      .widget-wrapper-fb,
      .widget-wrapper-twitter {
        margin-right: -8px;
      }

      .widget-wrapper-fb,
      .widget-wrapper-linkedin,
      .widget-wrapper-twitter {
        img {
          width: auto;
          height: 40px;
          margin-right: -10px;
        }
      }

      .field-name-forward-ds-field {
        margin-top: 8px;
        margin-bottom: 0;

        a {
          font-size: em(0px);
          color: transparent;

          &:after {
            content: url("../modules/stanford_soe_helper_magazine/img/soe_forward_icon_gray.svg");
          }
        }
      }

      .field-name-field-s-mag-article-print {
        margin-top: 6px;
        margin-bottom: 0;

        a {
          font-size: em(0px);
          color: transparent;
          margin-right: 0;

          &:after {
            content: url("../modules/stanford_soe_helper_magazine/img/soe_print_icon_gray.svg");
          }
        }
      }
    }
  }

  .field-name-body {
    iframe {
      width: 100%;
      height: 550px;
      &.iframe-auto {
        height: auto;
      }
    }
  }
}

// TAXONOMY AND ALL ARTICLES GRID VIEWS

.page-magazine-all #page-title,
.page-taxonomy-term #page-title {
  text-align: center;
}

#block-views-a06b957e34c741c20a352da1b7ce0e12 {
  h2 {
    text-align: center;
    margin: 2em 0 1.5em;
  }

  .article-grouping {
    @include breakpoint-min(medium);
    padding: 0 70px;
  }
}

.view-stanford-magazine-article-most-recent,
.view-stanford-magazine-articles,
.view-stanford-magazine-topics {
  &.most-recent-article {
    margin: 40px 0 80px;
    @include breakpoint-max(x-small) {
      margin-bottom: 20px;
    }

    .most-recent-article-container {
      position: relative;
      display: flex;
      @include box-shadow;
      @include breakpoint-max(medium) {
        display: block;
      }

      .mag-topic-card-container {
        width: 50%;
        background: $white;
        padding: 50px 30px 30px;
        @include breakpoint-max(medium) {
          width: auto;
        }
        @include breakpoint-max(x-small) {
          padding-top: 15px;
        }

        .mag-topic-card-content-container {
          position: absolute;
          bottom: 40px;
          @include breakpoint-max(medium) {
            position: static;
          }
        }

        .mag-article-date {
          color: $gray-orange;
          font-size: em(20px);
          font-weight: 100;
          margin-bottom: 10px;
        }

        .mag-article-title {
          font-size: em(32px);
          line-height: 1.2em;
          font-weight: 600;
          @media (max-width: 1199px) and (min-width: 979px) {
            font-size: em(20px);
          }

          &[class*="mag-article-color-"] a {
            color: $primary-color;
            text-decoration: underline;
            @include td-skip;

            &:focus,
            &:hover {
              @include td-color($primary-color);
            }
          }

          &.mag-article-color-orange a {
            @include td-color($orange);
          }

          &.mag-article-color-turquoise a {
            @include td-color($turquoise);
          }

          &.mag-article-color-pink a {
            @include td-color($pink);
          }
        }

        .mag-article-topics {
          font-size: em(18px);
          line-height: 1.3em;
          margin: 30px 0;
        }

        .mag-article-issue {
          position: absolute;
          bottom: 15px;
          right: 15px;

          &[class*="mag-issue-color-"] {
            padding: 0 9px;
            font-size: em(18px);
          }

          &.mag-issue-color-orange {
            background: $orange;
          }

          &.mag-issue-color-turquoise {
            background: $turquoise;
          }

          &.mag-issue-color-pink {
            background: $pink;
          }

          a {
            color: $primary-color;
          }
        }
      }

      .mag-article-img {
        overflow: hidden;

        &:hover img {
          @include transform (scale(1.03));
        }

        img {
          @include transition;
          @include breakpoint-max(medium) {
            width: 100%;
          }
        }
      }
    }
  }

  &.article-grouping {
    .views-row {
      margin-bottom: 80px;
      @include breakpoint-max(x-small) {
        margin-bottom: 20px;
      }
    }

    &.views-grid-three .views-row {
      margin-right: 2%;
      width: 31%;
      @media (max-width: 581px) {
        width: 100%;
      }
    }

    &.views-grid-three .views-row.views-row-3 {
      margin-right: 0;
    }

    .mag-topic-card-container {
      position: relative;
      background: $white;
      padding: 15px 30px 30px;
      @include box-shadow;

      .mag-article-date {
        color: $gray-orange;
        font-size: em(18px);
        font-weight: 100;
      }

      .mag-article-title {
        font-size: em(26px);
        line-height: 1.3em;
        font-weight: 600;

        &[class*="mag-article-color-"] a {
          color: $primary-color;
          text-decoration: underline;
          @include td-skip;

          &:focus,
          &:hover {
            @include td-color($primary-color);
          }
        }

        &.mag-article-color-orange a {
          @include td-color($orange);
        }

        &.mag-article-color-turquoise a {
          @include td-color($turquoise);
        }

        &.mag-article-color-pink a {
          @include td-color($pink);
        }
      }

      .mag-article-topics {
        font-size: em(16px);
        line-height: 1.2em;
        margin: 30px 0;
      }

      .mag-article-issue {
        position: absolute;
        bottom: 15px;
        right: 15px;

        &[class*="mag-issue-color-"] {
          padding: 0 9px;
          font-size: em(16px);
        }

        &.mag-issue-color-orange {
          background: $orange;
        }

        &.mag-issue-color-turquoise {
          background: $turquoise;
        }

        &.mag-issue-color-pink {
          background: $pink;
        }

        a {
          color: $primary-color;
        }
      }
    }

    .mag-article-img {
      overflow: hidden;

      &:hover img {
        @include transform (scale(1.03));
      }

      img {
        @include transition;
      }
    }
  }
}

.view-stanford-magazine-topics.most-recent-article {
  margin-top: -30px;
}

// LATEST NEWS DM LANDING PAGE VIEW

.view-stanford-magazine-issue-article,
.view-stanford-magazine-article-mag-landing-page {
  &.views-grid-three .views-row {
    margin-bottom: 0;
  }

  h2 {
    font-family: $primary-font;
    color: $gray-orange;
    font-weight: 400;
    letter-spacing: 0;
    width: 50%;
    margin: 0 auto 60px;
    text-align: center;
    @include breakpoint-min(large) {
      width: 40%;
    }
    @include breakpoint-max(small) {
      width: 100%;
    }
    &.mag-article-title {
      letter-spacing: normal;
      margin: 0;
      text-align: start;
      width: auto;
    }
  }

  &.view-display-id-block_10_12,
  &.view-display-id-page_1_3 {
    .views-row {
      &:nth-child(1) {
        width: 22.5%;
        margin-right: 4.5%;
        @include breakpoint-max(medium) {
          width: 100%;
          margin-right: 0;
        }
      }

      &:nth-child(2) {
        width: 45%;
        margin-right: 4.5%;
        @include breakpoint-max(medium) {
          width: 100%;
          margin-right: 0;
        }

        .mag-article-container {
          .mag-article-content-container {
            background: $white;
            padding: 50px 30px 30px;
            @include box-shadow;
            @include breakpoint-max(medium) {
              padding: 15px 30px 30px;
            }

            .mag-article-date {
              color: $gray-orange;
              font-size: em(20px);
              font-weight: 100;
              margin-bottom: 10px;
              @include breakpoint-max(medium) {
                font-size: em(18px);
              }
            }

            .mag-article-title {
              font-size: em(32px);
              line-height: 1.2em;
              font-weight: 600;
              @include breakpoint-max(medium) {
                font-size: em(26px);
                line-height: 1.3em;
              }
            }

            .mag-article-topics {
              font-size: em(18px);
              line-height: 1.3em;
              margin: 30px 0;
              @include breakpoint-max(medium) {
                font-size: em(16px);
                line-height: 1.2em;
              }
            }
          }
        }
      }

      &:nth-child(3) {
        width: 22.5%;
        margin-right: 0;
        @include breakpoint-max(medium) {
          width: 100%;
        }
      }
    }
  }

  &.view-display-id-block_13_15,
  &.view-display-id-block_4_6 {
    .views-row {
      &:nth-child(1) {
        width: 45%;
        margin-right: 4.5%;
        @include breakpoint-max(medium) {
          width: 100%;
          margin-right: 0;
        }

        .mag-article-container {
          .mag-article-content-container {
            background: $white;
            padding: 50px 30px 30px;
            @include box-shadow;
            @include breakpoint-max(medium) {
              padding: 15px 30px 30px;
            }

            .mag-article-date {
              color: $gray-orange;
              font-size: em(20px);
              font-weight: 100;
              margin-bottom: 10px;
              @include breakpoint-max(medium) {
                font-size: em(18px);
              }
            }

            .mag-article-title {
              font-size: em(32px);
              line-height: 1.2em;
              font-weight: 600;
              @include breakpoint-max(medium) {
                font-size: em(26px);
                line-height: 1.3em;
              }
            }

            .mag-article-topics {
              font-size: em(18px);
              line-height: 1.3em;
              margin: 30px 0;
              @include breakpoint-max(medium) {
                font-size: em(16px);
                line-height: 1.2em;
              }
            }
          }
        }
      }

      &:nth-child(2) {
        width: 22.5%;
        margin-right: 4.5%;
        @include breakpoint-max(medium) {
          width: 100%;
          margin-right: 0;
        }
      }

      &:nth-child(3) {
        width: 22.5%;
        margin-right: 0;
        @include breakpoint-max(medium) {
          width: 100%;
        }
      }
    }
  }

  &.view-display-id-block_7_9 {
    .views-row {
      &:nth-child(1) {
        width: 22.5%;
        margin-right: 4.5%;
        @include breakpoint-max(medium) {
          width: 100%;
          margin-right: 0;
        }
      }

      &:nth-child(2) {
        width: 22.5%;
        margin-right: 4.5%;
        @include breakpoint-max(medium) {
          width: 100%;
          margin-right: 0;
        }
      }

      &:nth-child(3) {
        width: 45%;
        margin-right: 0;
        @include breakpoint-max(medium) {
          width: 100%;
        }

        .mag-article-container {
          .mag-article-content-container {
            background: $white;
            padding: 50px 30px 30px;
            @include box-shadow;
            @include breakpoint-max(medium) {
              padding: 15px 30px 30px;
            }

            .mag-article-date {
              color: $gray-orange;
              font-size: em(20px);
              font-weight: 100;
              margin-bottom: 10px;
              @include breakpoint-max(medium) {
                font-size: em(18px);
              }
            }

            .mag-article-title {
              font-size: em(32px);
              line-height: 1.2em;
              font-weight: 600;
              @include breakpoint-max(medium) {
                font-size: em(26px);
                line-height: 1.3em;
              }
            }

            .mag-article-topics {
              font-size: em(18px);
              line-height: 1.3em;
              margin: 30px 0;
              @include breakpoint-max(medium) {
                font-size: em(16px);
                line-height: 1.2em;
              }
            }
          }
        }
      }
    }
  }

  .mag-article-container {
    margin-bottom: 80px;
    @include breakpoint-max(medium) {
      margin-bottom: 40px;
    }

    .mag-article-img {
      overflow: hidden;

      &:hover img {
        @include transform (scale(1.03));
      }

      img {
        @include transition;
        @include breakpoint-max(medium) {
          width: 100%;
        }
      }
    }

    .mag-article-content-container {
      position: relative;
      background: $white;
      padding: 15px 30px 30px;
      @include box-shadow;

      .mag-article-date {
        color: $gray-orange;
        font-size: em(18px);
        font-weight: 100;
      }

      .mag-article-title {
        font-size: em(26px);
        line-height: 1.3em;
        font-weight: 600;

        &[class*="mag-article-color-"] a {
          color: $primary-color;
          text-decoration: underline;
          @include td-skip;

          &:focus,
          &:hover {
            @include td-color($primary-color);
          }
        }

        &.mag-article-color-orange a {
          @include td-color($orange);
        }

        &.mag-article-color-turquoise a {
          @include td-color($turquoise);
        }

        &.mag-article-color-pink a {
          @include td-color($pink);
        }
      }

      .mag-article-topics {
        font-size: em(16px);
        line-height: 1.2em;
        margin: 30px 0;
      }

      .mag-article-issue {
        position: absolute;
        bottom: 15px;
        right: 15px;

        &[class*="mag-issue-color-"] {
          padding: 0 9px;
          font-size: em(18px);
        }

        &.mag-issue-color-orange {
          background: $orange;
        }

        &.mag-issue-color-turquoise {
          background: $turquoise;
        }

        &.mag-issue-color-pink {
          background: $pink;
        }

        a {
          color: $primary-color;
        }
      }
    }
  }
}

.page-magazine {
  .main {
    padding-bottom: 0;
    @include breakpoint-min(medium) {
      padding-top: 100px;
    }

    .container {
      @include breakpoint-max(small) {
        margin-bottom: 0;
      }

      .content-head {
        margin-bottom: 0;
      }
    }
  }

  #page-title {
    text-align: center;
  }

  .block-stanford-soe-helper-magazine {
    a.btn {
      margin: 0 0 80px;
    }
  }
}

// HOMEPAGE FEATURED ARTICLE VIEW

.view-stanford-magazine-article-featured {
  .mag-article-container {
    .mag-article-img {
      overflow: hidden;

      &:hover img {
        @include transform (scale(1.03));
      }

      img {
        @include transition;
        width: 100%;
      }
    }

    .mag-article-content-container {
      background: $white;
      padding: 15px 30px 30px;
      @include box-shadow;
      @include breakpoint-max(medium) {
        padding: 15px 30px 30px;
      }

      .mag-article-date {
        color: $gray-orange;
        font-size: em(20px);
        font-weight: 100;
        margin-bottom: 10px;
        @include breakpoint-max(medium) {
          font-size: em(18px);
        }
      }

      .mag-article-title {
        h2 {
          font-size: em(28px);

          a {
            @include td-color($turquoise);

            &:focus,
            &:hover {
              @include td-color($primary-color);
            }
          }
        }
      }

      .mag-article-topics {
        font-size: em(18px);
        line-height: 1.3em;
        margin: 30px 0;
        @include breakpoint-max(medium) {
          font-size: em(16px);
          line-height: 1.2em;
        }
      }
    }
  }
}

// PARAGRAPH TYPES

.node-type-stanford-magazine-article {
  .paragraphs-item-p-two-columns {
    font-family: $roboto-slab;
    font-size: em(28px);
    margin-bottom: 1em;
  }

  .paragraphs-item-p-wysiwyg-simple {
    a {
      text-decoration: underline;
    }
  }
}

.entity-paragraphs-item {
  iframe {
    width: 100%;
    height: 400px;
    &.iframe-auto {
      height: auto;
    }
  }
}

// RELATED DEPARTMENTS BLOCK

#block-ds-extras-related-departments {
  width: 85%;
  border-top: 1px solid $dark-gray;
  margin: 0 auto 80px;
  padding-top: 20px;
  @include breakpoint-max(x-small) {
    width: 100%;
  }

  h2 {
    font-size: em(18px);
    font-family: $primary-font;
    margin-bottom: 0;
  }

  .field-name-field-s-mag-article-dept {
    font-size: em(18px);
    line-height: 1.3em;
    width: 45%;
    @include breakpoint-max(x-small) {
      width: 100%;
    }
  }
}

